import{r as c,b as y,j as e}from"./client-Bm6Vdnqp.js";import{A as T}from"./AccentButton-1guupTMB.js";import{c as u}from"./createLucideIcon-BdBzZ_PZ.js";import{C as d,a as h,b as p,c as m,d as x}from"./card-DtHpFZbu.js";import{T as w}from"./textarea-BvKsEWrI.js";import{I as N}from"./input-DhjTea2T.js";import"./button-1p6NbWQA.js";/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],z=u("Lightbulb",A);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],I=u("LoaderCircle",E);async function M({prompt:n,inputText:s}){try{const t=await fetch("/api/ai/magic-text",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:n,inputText:s})});if(!t.ok)throw new Error(`API call failed with status: ${t.status}`);return await t.json()}catch(t){throw console.error("Error in postAiGetCizzleMagicText:",t),t}}const S=({prompt:n,value:s,setValue:t,children:o})=>{const[r,i]=c.useState(!1),[j,f]=c.useState(""),l=s!==j,b=a=>{t(a.target.value)},g=async()=>{if(l&&s){i(!0);try{const a=await M({prompt:n,inputText:s});t(a),f(a)}catch(a){console.error("Error cleaning text:",a)}finally{i(!1)}}},C=y.cloneElement(o,{value:s,onChange:b,disabled:r||o.props.disabled});return e.jsxs("div",{className:"flex items-center",children:[C,e.jsx(T,{onClick:g,disabled:r||!l,size:"icon",className:"ml-2",children:r?e.jsx(I,{className:"h-4 w-4 animate-spin"}):e.jsx(z,{className:"h-4 w-4"})})]})},G=function(){const[s,t]=c.useState(""),[o,r]=c.useState("Rewrite this text to make it more professional and concise");return e.jsxs("div",{className:"container py-8",children:[e.jsx("h1",{className:"text-3xl font-bold mb-8",children:"AI Magic Text Demo"}),e.jsxs(d,{className:"mb-8",children:[e.jsxs(h,{children:[e.jsx(p,{children:"Customize Prompt"}),e.jsx(m,{children:"Edit the prompt that will be sent to the AI"})]}),e.jsx(x,{children:e.jsx(N,{value:o,onChange:i=>r(i.target.value),placeholder:"Enter an instruction for the AI",className:"w-full"})})]}),e.jsxs(d,{children:[e.jsxs(h,{children:[e.jsx(p,{children:"Magic Text Input"}),e.jsx(m,{children:"Enter text below, then click the lightbulb icon to apply AI magic"})]}),e.jsx(x,{children:e.jsx(S,{prompt:o,value:s,setValue:t,children:e.jsx(w,{placeholder:"Enter your text here...",className:"min-h-[200px]"})})})]})]})};export{G as component};
