import{v as y,w as N,r as m,j as e,x as v}from"./client-Bm6Vdnqp.js";import{C as w,a as C,b as P,c as S,d as k,e as A}from"./card-DtHpFZbu.js";import{B}from"./button-1p6NbWQA.js";import{A as i,a as n,C as E}from"./alert-CgOl55GX.js";import"./createLucideIcon-BdBzZ_PZ.js";function V(){const{isSignedIn:t,user:l}=y(),{isActive:c,planName:o,refetch:u}=N(),[d,x]=m.useState(null),h="https://buy.stripe.com/test_5kAdTyg6R6QWbq86op",p="https://buy.stripe.com/test_3cs16M8Ep4IO2TC4gg",f=typeof window<"u"?new URLSearchParams(window.location.search).get("canceled")==="true":!1;m.useEffect(()=>{u()},[]);const g=Object.values(v);return e.jsxs("div",{className:"container py-10 mx-auto",children:[e.jsxs("header",{className:"mb-12 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight text-foreground mb-4",children:"Choose Your Subscription Plan"}),e.jsx("p",{className:"text-muted-foreground max-w-xl mx-auto",children:"Select the subscription that best fits your needs and unlock premium features"}),!t&&e.jsx(i,{variant:"default",className:"mt-6 max-w-lg mx-auto bg-secondary/50",children:e.jsx(n,{children:"Please sign in to purchase a subscription"})}),f&&e.jsx(i,{variant:"default",className:"mt-6 max-w-lg mx-auto bg-secondary/50",children:e.jsx(n,{children:"Your checkout was canceled. You can try again when you're ready."})}),c&&e.jsx(i,{variant:"default",className:"mt-6 max-w-lg mx-auto bg-primary/20",children:e.jsxs(n,{className:"text-primary",children:["You already have an active subscription to the ",o," plan."]})}),d&&e.jsx(i,{variant:"destructive",className:"mt-6 max-w-lg mx-auto",children:e.jsx(n,{children:d})})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 max-w-5xl mx-auto",children:g.map(s=>{const a=c&&o===s.name;let r=s.period.toLowerCase().includes("annual")?h:p;return r=`${r}?prefilled_email=${l?.primaryEmailAddress?.emailAddress}&client_reference_id=${l?.id}`,e.jsxs(w,{className:`relative overflow-visible h-full transition-all ${"isBestValue"in s&&s.isBestValue?"border-primary shadow-md":""} ${a?"border-2 border-green-500":""}`,children:["isBestValue"in s&&s.isBestValue&&e.jsx("div",{className:"absolute -top-3 right-6 bg-primary text-primary-foreground text-sm font-medium py-1 px-3 rounded-md",children:"Best Value"}),a&&e.jsx("div",{className:"absolute top-4 right-4 text-green-500 bg-green-50 dark:bg-green-900/20 px-3 py-1 rounded-full text-sm font-medium",children:"Current Plan"}),e.jsxs(C,{children:[e.jsx(P,{className:"text-xl md:text-2xl",children:s.name}),e.jsx(S,{children:s.description}),e.jsxs("div",{className:"mt-4",children:[e.jsx("span",{className:"text-3xl font-bold",children:s.price}),e.jsxs("span",{className:"text-muted-foreground ml-1",children:["/ ",s.period]})]})]}),e.jsx(k,{children:e.jsx("div",{className:"space-y-2",children:s.features.map((b,j)=>e.jsxs("div",{className:"flex items-start",children:[e.jsx(E,{className:"mr-2 h-5 w-5 text-primary flex-shrink-0 mt-0.5"}),e.jsx("span",{children:b})]},j))})}),e.jsx(A,{children:e.jsx(B,{className:"w-full",disabled:!t||a,onClick:()=>{t&&!a&&r?window.location.href=r:t||x("You must be logged in to subscribe")},variant:"isBestValue"in s&&s.isBestValue?"default":"outline",children:a?"Current Plan":"Subscribe"})})]},s.id)})})]})}const T=function(){return e.jsx(V,{})};export{T as component};
