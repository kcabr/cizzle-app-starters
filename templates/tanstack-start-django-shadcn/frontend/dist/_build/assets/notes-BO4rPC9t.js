import{r as i,B as j,p as a,q as n,j as e,t as p,V as h}from"./client-Bm6Vdnqp.js";import{u as y,a as f}from"./useMutation-BIRUDehh.js";import{C as m,a as x,b as u,c as C,d as g}from"./card-DtHpFZbu.js";import{I as S}from"./input-DhjTea2T.js";import{T as F}from"./textarea-BvKsEWrI.js";import{L as _}from"./label-Db2qutF5.js";import{A as w}from"./AccentButton-1guupTMB.js";import"./utils-km2FGkQ4.js";import"./button-1p6NbWQA.js";function b(t){if(i.isValidElement(t))return t;if(typeof t=="object"&&!t.state&&(t.state={status:"pending",promise:Promise.resolve().then(()=>{j(!1)}).then(r=>{t.state.value=r,t.state.status="success"}).catch(r=>{t.state.status="error",t.state.error=r})}),t.state.status==="pending")throw t.state.promise;return t.state.value}const E=n("src_utils_notes_ts--getNotes_createServerFn_handler","/_server"),T=a({method:"GET"}).handler(E),k=n("src_utils_notes_ts--getNoteById_createServerFn_handler","/_server");a({method:"GET"}).handler(k);const P=n("src_utils_notes_ts--createNote_createServerFn_handler","/_server"),R=a({method:"POST"}).handler(P),q=n("src_utils_notes_ts--updateNote_createServerFn_handler","/_server");a({method:"PUT"}).handler(q);const D=n("src_utils_notes_ts--deleteNote_createServerFn_handler","/_server");a({method:"DELETE"}).handler(D);async function L(){const t=await T();return!t||t.length===0?e.jsx("div",{className:"text-center p-8 text-gray-500 dark:text-gray-400",children:"No notes yet. Create your first note!"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map(r=>e.jsx(A,{note:r},r.id))})}function A({note:t}){return e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-6 hover:shadow-md transition-shadow duration-200",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:t.title}),e.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 line-clamp-3",children:t.content}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(t.createdAt).toLocaleDateString()})]})}const U=function(){const[r,l]=i.useState(""),[o,d]=i.useState(""),v=p(),c=y({mutationFn:f(R),onSuccess:()=>{v.invalidateQueries({queryKey:["notes"]}),l(""),d(""),h.success("Note created successfully!")},onError:s=>{h.error(`Failed to create note: ${s.message}`)}}),N=s=>{s.preventDefault(),!(!r.trim()||!o.trim())&&c.mutate({data:{title:r,content:o}})};return e.jsxs("div",{className:"py-10",children:[e.jsx("header",{children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsx("h1",{className:"text-3xl font-bold leading-tight tracking-tight text-gray-900 dark:text-white",children:"Notes"}),e.jsx("p",{className:"mt-2 text-lg text-gray-600 dark:text-gray-300",children:"Create and manage your notes with React Server Components (RSC)"})]})}),e.jsx("main",{className:"mt-10",children:e.jsxs("div",{className:"mx-auto max-w-7xl space-y-8",children:[e.jsxs(m,{children:[e.jsxs(x,{children:[e.jsx(u,{children:"Create New Note"}),e.jsx(C,{children:"Add a new note to your collection"})]}),e.jsx(g,{children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"title",children:"Title"}),e.jsx(S,{id:"title",value:r,onChange:s=>l(s.target.value),placeholder:"Enter note title",required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{htmlFor:"content",children:"Content"}),e.jsx(F,{id:"content",value:o,onChange:s=>d(s.target.value),placeholder:"Enter note content",rows:5,required:!0})]}),e.jsx(w,{type:"submit",isHighlighted:!0,disabled:c.isPending,children:c.isPending?"Creating...":"Create Note"})]})})]}),e.jsxs(m,{children:[e.jsx(x,{children:e.jsx(u,{children:"Your Notes"})}),e.jsx(g,{children:b(e.jsx(L,{}))})]})]})})]})};export{U as component};
