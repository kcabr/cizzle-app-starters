import{m as c,b as m,o as x,j as e}from"./client-Bm6Vdnqp.js";import{u as g}from"./useQuery-Bm7vSMYN.js";import{C as h,A as u}from"./CustomButtonLink-DOih7mnW.js";import"./utils-km2FGkQ4.js";const p=["general","business","entertainment","health","science","sports","technology"],k=function(){const s=c.useLoaderData(),[t,i]=m.useState("general"),{data:a,isLoading:d,isError:o,error:n}=g({queryKey:["topHeadlines",t],queryFn:()=>x({data:{category:t,pageSize:12}}),initialData:t==="general"?s:void 0});return e.jsxs("div",{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-6",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4 sm:mb-0",children:"Top Headlines"}),e.jsx(h,{to:"/news/search",variant:"contained",color:"primary",children:"Search Articles"})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{htmlFor:"category-select",className:"block mb-2 text-sm font-medium text-gray-900 dark:text-white",children:"Category"}),e.jsx("select",{id:"category-select",value:t,onChange:r=>i(r.target.value),className:"bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-700 text-gray-900 dark:text-white text-sm rounded-md focus:ring-indigo-500 focus:border-indigo-500 block w-full sm:w-52 p-2.5",children:p.map(r=>e.jsx("option",{value:r,className:"capitalize",children:r},r))})]}),d&&!a?e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-500 mx-auto"}),e.jsx("p",{className:"mt-4 text-gray-600 dark:text-gray-300",children:"Loading headlines..."})]}):o?e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-md p-4 text-red-800 dark:text-red-200",children:e.jsxs("p",{children:["Error loading headlines: ",n?.message||"Unknown error"]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:a?.articles?.map((r,l)=>e.jsx("div",{children:e.jsx(u,{article:r})},`${r.url}-${l}`))}),a?.articles?.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"No articles found for this category"}),e.jsx("p",{className:"mt-2 text-gray-600 dark:text-gray-400",children:"Try selecting a different category"})]})]})]})};export{k as component};
